{% extends "base/base.html"%} 
{% block start %} 
{% load static %}
<section style="background-color: #eee;">
    <div class="container py-5">  
      <div class="row">
        <div class="col-lg-4">
          <div class="card mb-4">
            <div id="photo_id" class="card-body text-center" >
                <!-- /media/{{details.profile_image}} -->
                    <img id="profile_image"  src="/media/{{details.profile_image}}" alt="avatar"  
                    class="rounded-circle img-fluid" style="width: 150px;">
                <form action="{% url "Img_update" %}" method="POST" enctype="multipart/form-data"> 
                    {% csrf_token %}
                    <input type="file" name="myImage" accept="image/png, image/gif, image/jpeg" />
                    <input type="submit" value="Save Data"> 
                </form>        
              <h5 class="my-3">{{user.username}}</h5>
              <p class="text-muted mb-4">{{details.address}}</p>
            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card mb-4">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Full Name</p>
                </div>
                <div class="col-sm-9">
                  <p id="givn_name" class="text-muted mb-0" >{{user.first_name}} {{user.last_name}}</p> 
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Email</p>
                </div>
                <div  id="new" class="col-sm-9">
                  <p class="text-muted mb-0">{{user.email}}</p>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Phone</p>
                </div>
                <div class="col-sm-9">
                    <form id="frm" name="frm" method="POST">
                        {% csrf_token %}
                        <input type="number" id="fname" name="mynumber" value="{{details.contact_no}}" required> 
                    </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Gender</p>
                </div>
                <div class="col-sm-9">
                    <select name='add_gender' value="{{details.gender}}">
                        <option value={{details.gender}} selected hidden>{{details.gender}}</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                      </select>
                 </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Address</p>
                </div>
                <div class="col-sm-9">
                        <input type="text" id="fname" name="add_address" value="{{details.address}}" required> 
                </div>
              </div>
              <div >
                <br><br><input class="btn btn-primary" type="submit" value="Update">
            </form>
           </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
<script>
jQuery('#frm').validate({
rules: {
  mynumber:{
    minlength:10,
    maxlength:10
  },
},
messages:{
mynumber:"Please input a valid number"
}
})

</script>

  {% endblock %}